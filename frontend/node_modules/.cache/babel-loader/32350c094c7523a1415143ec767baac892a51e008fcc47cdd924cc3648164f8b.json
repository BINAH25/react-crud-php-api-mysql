{"ast":null,"code":"import{useState,useEffect}from\"react\";import axios from\"axios\";import{useNavigate,useParams}from\"react-router-dom\";import{BASE_API_URI}from\"./constants\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ListUser(){const navigate=useNavigate();const[inputs,setInputs]=useState([]);const{id}=useParams();useEffect(()=>{getUser();},[]);function getUser(){axios.get(`${BASE_API_URI}/api/user/${id}`).then(function(response){console.log(response.data);setInputs(response.data);});}const handleChange=event=>{const name=event.target.name;const value=event.target.value;setInputs(values=>({...values,[name]:value}));};const handleSubmit=event=>{event.preventDefault();axios.put(`${BASE_API_URI}/api/user/${id}/edit`,inputs).then(function(response){console.log(response.data);navigate('/');});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit user\"}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(\"table\",{cellSpacing:\"10\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"label\",{children:\"Name: \"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{value:inputs.name,type:\"text\",name:\"name\",onChange:handleChange})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"label\",{children:\"Email: \"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{value:inputs.email,type:\"text\",name:\"email\",onChange:handleChange})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"label\",{children:\"Mobile: \"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{value:inputs.mobile,type:\"text\",name:\"mobile\",onChange:handleChange})})]}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",align:\"right\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Save\"})})})]})})})]});}","map":{"version":3,"names":["useState","useEffect","axios","useNavigate","useParams","BASE_API_URI","jsx","_jsx","jsxs","_jsxs","ListUser","navigate","inputs","setInputs","id","getUser","get","then","response","console","log","data","handleChange","event","name","target","value","values","handleSubmit","preventDefault","put","children","onSubmit","cellSpacing","type","onChange","email","mobile","colSpan","align"],"sources":["/home/stephen/Desktop/react-crud-php-api-mysql/frontend/src/components/EditUser.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { BASE_API_URI } from \"./constants\";\n\nexport default function ListUser() {\n    const navigate = useNavigate();\n\n    const [inputs, setInputs] = useState([]);\n\n    const {id} = useParams();\n\n    useEffect(() => {\n        getUser();\n    }, []);\n\n    function getUser() {\n        axios.get(`${BASE_API_URI}/api/user/${id}`).then(function(response) {\n            console.log(response.data);\n            setInputs(response.data);\n        });\n    }\n\n    const handleChange = (event) => {\n        const name = event.target.name;\n        const value = event.target.value;\n        setInputs(values => ({...values, [name]: value}));\n    }\n    const handleSubmit = (event) => {\n        event.preventDefault();\n\n        axios.put(`${BASE_API_URI}/api/user/${id}/edit`, inputs).then(function(response){\n            console.log(response.data);\n            navigate('/');\n        });\n        \n    }\n    return (\n        <div>\n            <h1>Edit user</h1>\n            <form onSubmit={handleSubmit}>\n                <table cellSpacing=\"10\">\n                    <tbody>\n                        <tr>\n                            <th>\n                                <label>Name: </label>\n                            </th>\n                            <td>\n                                <input value={inputs.name} type=\"text\" name=\"name\" onChange={handleChange} />\n                            </td>\n                        </tr>\n                        <tr>\n                            <th>\n                                <label>Email: </label>\n                            </th>\n                            <td> \n                                <input value={inputs.email} type=\"text\" name=\"email\" onChange={handleChange} />\n                            </td>\n                        </tr>\n                        <tr>\n                            <th>\n                                <label>Mobile: </label>\n                            </th>\n                            <td>\n                                <input value={inputs.mobile} type=\"text\" name=\"mobile\" onChange={handleChange} />\n                            </td>\n                        </tr>\n                        <tr>\n                            <td colSpan=\"2\" align =\"right\">\n                                <button>Save</button>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </form>\n        </div>\n    )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}